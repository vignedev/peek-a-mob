import argparse
from utils import annotate_file, get_entity_bidict

def get_argv():
  parser = argparse.ArgumentParser()
  parser.add_argument(
    '-i', '--input',
    help='input folder where the quadrant-screenshots are located at',
    required=True
  )
  parser.add_argument(
    '-e', '--entities',
    help='location of entitites.json generated by the `minecraft_shader/generate_entittyprop.js`',
    required=True
  )
  parser.add_argument(
    '-o', '--output',
    help='output folder, where the images and their annotations are going to be',
    required=True
  )
  parser.add_argument(
    '-f', '--format',
    help='which format to output the annotations as, or rather what should the first two normalized coordinates represent\n'
         '(center: center of bounding box, bbox: top-left corner of bounding box)',
    choices=['center', 'bbox'],
    required=True
  )
  return parser.parse_args()


if __name__ == '__main__':
  argv = get_argv()
  entity_bidict = get_entity_bidict(argv.entities)
  
  annotate_file('assets/test.png', debug_draw=False)